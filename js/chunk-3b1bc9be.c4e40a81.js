(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b1bc9be"],{"173e":function(t,a,c){"use strict";c.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"fsp-container-fluid"},[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"banner_open_shoppingcart"},[i("router-link",{attrs:{to:"/shopping_cart/front_cart_items"}},[i("span",{staticClass:"badge"},[t._v(t._s(t.cart.carts.length))]),i("img",{attrs:{alt:"購物車",src:c("688c")}})])],1),i("div",{staticClass:"product-header"},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"product-wrap col-12 col-md-6"},[i("div",{staticClass:"product-img"},[i("div",{staticClass:"abs-wrap"},[i("img",{attrs:{src:t.product.imageUrl,alt:"圖一"}})])])]),i("div",{staticClass:"product-info col-12 col-md-6"},[i("div",{staticClass:"product-title"},[i("h2",[t._v(" "+t._s(t.product.title)+" ")])]),i("div",{staticClass:"product-price d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():i("div",{staticClass:"h4 text-danger mb-0"},[t._v(t._s(t._f("currency")(t.product.origin_price)))]),t.product.price?i("del",{staticClass:"h5 mb-0"},[t._v(t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t.product.price?i("div",{staticClass:"h4 text-danger mr-2 mb-0"},[t._v(t._s(t._f("currency")(t.product.price)))]):t._e()]),i("pre",{staticClass:"product-content"},[t._v(t._s(t.product.content))]),i("div",{staticClass:"product-input"},[i("div",{staticClass:"quantity row"},[i("span",{staticClass:"quantity-title"},[t._v("數量")]),i("input",{staticClass:"btn btn-outline-third",attrs:{type:"button",value:"-"},on:{click:function(a){return t.quantitySub(t.product)}}}),i("input",{attrs:{type:"text",readonly:"readonly"},domProps:{value:t.product.num}}),i("input",{staticClass:"btn btn-outline-third",attrs:{type:"button",value:"+"},on:{click:function(a){return t.quantityPlus(t.product)}}})]),i("div",{staticClass:"buy-option"},[i("input",{staticClass:"btn btn-primary mr-1percent",attrs:{type:"button",value:"馬上購買"},on:{click:function(a){return t.addToCart(t.product.id,!0,t.product.num)}}}),i("input",{staticClass:"btn btn-danger",attrs:{type:"button",value:"加入購物車"},on:{click:function(a){return t.addToCart(t.product.id,!1,t.product.num)}}})])])])])]),i("div",{staticClass:"product-description"},[i("div",{staticClass:"row my-3"},[t._m(0),i("div",{staticClass:"description-nav"},[i("img",{attrs:{src:t.product.imageUrl3,alt:"圖三"}}),i("img",{attrs:{src:t.product.imageUrl2,alt:"圖二"}})]),i("div",{staticClass:"col-12"},[i("pre",[t._v(t._s(t.product.description))])])])]),i("div",{staticClass:"recommand-products"},[i("div",{staticClass:"row mb-3"},[t._m(1),t._l(t.recommandProducts,(function(a,c){return i("div",{key:c,staticClass:"col-md-3 col-sm-6 col-12 mb-4 recommand-hover"},[i("a",{staticClass:"link-block",attrs:{href:"#"},on:{click:function(c){return c.preventDefault(),t.getRecommandProduct(a.id)}}},[i("div",{staticClass:"card shadow-sm"},[i("div",{staticClass:"card-shadow-vw",staticStyle:{"background-size":"contain","background-repeat":"no-repeat","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),i("div",{staticClass:"card-body"},[i("h6",{staticClass:"card-title"},[t._v(t._s(a.title))])]),i("div",{staticClass:"card-footer d-flex justify-content-end"},[a.price?t._e():i("div",{staticClass:"h6"},[t._v(t._s(t._f("currency")(a.origin_price)))]),a.price?i("div",{staticClass:"h6"},[t._v(t._s(t._f("currency")(a.price)))]):t._e()])])])])}))],2)]),i("GoTop")],1)},r=[function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"description-title col-12"},[c("h3",[t._v("PRODUCT INFO")])])},function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"recommand-title mt-1 mb-3 col-12"},[c("h5",[t._v("MAYBE YOU WILL LIKE...")])])}],s=(c("99af"),c("4de4"),c("4160"),c("d3b7"),c("3ca3"),c("ddb0"),c("c12c")),o=c("bc3a"),n=c.n(o),e={data:function(){return{productId:"",recommandProducts:[],localProducts:[],product:{num:1},isDisable:!1,flag:!1}},watch:{$route:function(t,a){this.productId=this.$route.params.productID,this.getSingleProduct()}},methods:{getSingleProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim55167","/product/").concat(this.productId);this.$store.dispatch("updateLoading",!0),this.randomProduct(this.localProducts,4),this.$http.get(a).then((function(a){a.data.success&&(t.product=a.data.product,t.$set(t.product,"num",1),t.$store.dispatch("updateLoading",!1))}))},getRecommandProduct:function(t){var a=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim55167","/product/").concat(t);this.$store.dispatch("updateLoading",!0),this.$http.get(c).then((function(t){t.data.success&&(a.$store.dispatch("updateLoading",!1),a.$router.push("../front_single_product/".concat(t.data.product.id)).catch((function(t){return t})))}))},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t,a){var c=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this.flag){var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim55167","/cart");this.$store.dispatch("updateLoading",!0),this.$store.dispatch("getCart").then((function(s){var o=s.filter((function(a){return a.product_id===t})),e={product_id:t,qty:i};if(o.length>0){c.flag=!0;var d=o[0].qty;e={product_id:t,qty:i+d};var u="".concat("https://vue-course-api.hexschool.io","/api/").concat("jim55167","/cart/").concat(o[0].id);Promise.all([n.a.post(r,{data:e}),n.a.delete(u)]).then((function(){c.flag=!1}))}else 0===o.length&&c.$http.post(r,{data:e}).then((function(t){c.flag=!1,t.data.success&&(c.$store.dispatch("getCart"),c.$store.dispatch("updateLoading",!1))}));a&&c.$router.push("../shopping_cart/front_cart_items")}))}},quantitySub:function(){this.product.num>1&&this.product.num--,localStorage.setItem("myCart",JSON.stringify(this.cartData))},quantityPlus:function(){this.product.num<15&&this.product.num++,localStorage.setItem("myCart",JSON.stringify(this.cartData))},randomProduct:function(t,a){var c=[];function i(a){if(0===a)return!1;var r=Math.floor(Math.random()*t.length),s=!0;c.forEach((function(a){a===t[r]&&(s=!1)})),s&&(c.push(t[r]),a--),i(a)}t.length<=a&&(a=t.length),i(a),this.recommandProducts=c}},computed:{isLoading:function(){return this.$store.state.isLoading},cart:function(){return this.$store.state.cart}},created:function(){this.productId=this.$route.params.productID,this.localProducts=JSON.parse(localStorage.getItem("filteredList")),this.getSingleProduct(),this.getCart()},components:{GoTop:s["a"]}},d=e,u=c("2877"),l=Object(u["a"])(d,i,r,!1,null,null,null);a["default"]=l.exports},"3ca3":function(t,a,c){"use strict";var i=c("6547").charAt,r=c("69f3"),s=c("7dd0"),o="String Iterator",n=r.set,e=r.getterFor(o);s(String,"String",(function(t){n(this,{type:o,string:String(t),index:0})}),(function(){var t,a=e(this),c=a.string,r=a.index;return r>=c.length?{value:void 0,done:!0}:(t=i(c,r),a.index+=t.length,{value:t,done:!1})}))},"688c":function(t,a,c){t.exports=c.p+"img/shoppingCart.a5f583f3.jpg"},c12c:function(t,a,c){"use strict";var i=function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",[c("div",{staticClass:"goTop",class:{btnFlag:t.btnFlag},on:{click:function(a){return a.preventDefault(),t.goTop(a)}}})])},r=[],s={name:"GoTop",data:function(){return{btnFlag:!0}},methods:{goTop:function(){window.scrollTo({top:0,behavior:"smooth"})}},mounted:function(){var t=this;document.body.onscroll=function(){document.documentElement.scrollTop>200?t.btnFlag=!0:t.btnFlag=!1}}},o=s,n=c("2877"),e=Object(n["a"])(o,i,r,!1,null,null,null);a["a"]=e.exports},ddb0:function(t,a,c){var i=c("da84"),r=c("fdbc"),s=c("e260"),o=c("9112"),n=c("b622"),e=n("iterator"),d=n("toStringTag"),u=s.values;for(var l in r){var p=i[l],h=p&&p.prototype;if(h){if(h[e]!==u)try{o(h,e,u)}catch(g){h[e]=u}if(h[d]||o(h,d,l),r[l])for(var f in s)if(h[f]!==s[f])try{o(h,f,s[f])}catch(g){h[f]=s[f]}}}}}]);
//# sourceMappingURL=chunk-3b1bc9be.c4e40a81.js.map